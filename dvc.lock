schema: '2.0'
stages:
  make_dataset:
    cmd: python src/data/make_dataset.py
    deps:
    - path: src/data/make_dataset.py
      md5: 37c85b870e29f68cb099b283a7d856cf
      size: 3684
    params:
      params.yaml:
        dataset_kwargs:
          n_samples: 600
          n_features: 3
          n_classes: 3
          n_labels: 2
          length: 500
          allow_unlabeled: true
          sparse: false
          test_size: 0.25
          avg_trace: 0.65
        seeds:
        - 0
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
    outs:
    - path: data/generated
      md5: 322930a15b4b196dfa9b9d48a64b59ac.dir
      size: 413130
      nfiles: 10
  train:
    cmd: python src/models/train.py
    deps:
    - path: data/generated/
      md5: 322930a15b4b196dfa9b9d48a64b59ac.dir
      size: 413130
      nfiles: 10
    - path: src/models/train.py
      md5: 94eeb70676decaa65cc8e8a72883788e
      size: 3250
    params:
      params.yaml:
        train:
          cv_n_folds: 5
          seed: 0
    outs:
    - path: data/pred_probs/
      md5: 77dcb91e470918f176c8f0f8666e7cae.dir
      size: 109530
      nfiles: 10
  score:
    cmd: python src/evaluation/score.py
    deps:
    - path: data/pred_probs/
      md5: 77dcb91e470918f176c8f0f8666e7cae.dir
      size: 109530
      nfiles: 10
    - path: src/evaluation/
      md5: 38dab3c5966ba16fab64d9f7e038fb7b.dir
      size: 19615
      nfiles: 6
    params:
      params.yaml:
        eval:
          ks:
          - 1
          - 2
          - 3
          - 4
          - 5
          - 10
          - 20
          - 50
          - 100
          temperatures:
          - 0.01
          - 0.1
          - 1
          - 10
          - 100
          alphas:
          - 0.01
          - 0.1
          - 1
          - 10
          - 100
    outs:
    - path: data/scores/results.csv
      md5: 26f2205bc3c90274a8e874dbf6323e9e
      size: 1207237
    - path: data/scores/results_agg.json
      md5: d3d6dd8f7f357cd2b5db925b6a144c33
      size: 6403
